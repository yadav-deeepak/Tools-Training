##########################
ğŸš€ What is Apache Kafka?
##########################
â¤ Apache Kafka is an open-source, distributed event streaming platform developed by LinkedIn and later donated to the Apache Software Foundation.
It is designed to handle real-time data feeds with high throughput, fault tolerance, and scalability.

âš™ï¸ Simple Definition
***********************
â¤ Kafka is like a messaging system that allows different applications to communicate with each other by sending and receiving messages (data) in real time.

ğŸ‘‰ Example:
------------
Imagine you have a shopping app â€”
â¤ When a user places an order, that event is sent to Kafka.
â¤ Different services like Payment Service, Inventory Service, and Notification Service consume that event to perform their tasks immediately.

ğŸ’¡ Core Idea
**************
â¤ Kafka works as a publishâ€“subscribe model:
ğŸ‘‰ Producers publish (send) data to topics.
ğŸ‘‰ Consumers subscribe (read) data from topics.
ğŸ‘‰ Brokers store and manage those topics.

âš¡ Why Kafka? (Key Features)
******************************
â¤ High Throughput: Can process millions of messages per second.
â¤ Scalability: Easily add more brokers or partitions without downtime.
â¤ Fault Tolerance: Replicates data across multiple brokers to prevent data loss.
â¤ Durability: Stores messages on disk â€” so even if a system crashes, data isnâ€™t lost.
â¤ Real-Time Processing: Ideal for streaming data pipelines and event-driven architectures.

ğŸ§© Use Cases
**************
â¤ Real-Time Analytics (e.g., tracking user activity on websites)
â¤ Log Aggregation (collecting logs from multiple servers)
â¤ Messaging Queue Replacement (alternative to RabbitMQ, ActiveMQ)
â¤ Data Streaming Pipelines (connecting databases, microservices, etc.)
â¤ Event-Driven Microservices (services communicate via Kafka events)

###############################
ğŸ—ï¸ Apache Kafka Architecture
###############################
â¤ Kafkaâ€™s architecture is designed to handle large volumes of streaming data efficiently and reliably. Letâ€™s break it down ğŸ‘‡

âš™ï¸ 1. Producer
****************
â¤ A Producer is any application that sends (publishes) messages or data to a Kafka Topic.
ğŸ‘‰ Example: An e-commerce app sending â€œOrder Placedâ€ events to Kafka.

â¤ Producers decide:
Which topic to send the message to.
Which partition within that topic to send it (either automatically or using a key).

ğŸ§± 2. Broker
**************
â¤ A Broker is a Kafka server that stores data and handles read/write requests from producers and consumers.

ğŸ‘‰ Each broker can handle thousands of partitions and millions of messages.
ğŸ‘‰ Multiple brokers form a Kafka Cluster to share load and provide fault tolerance.

â¤ Example:
If you have 3 brokers (Broker 1, Broker 2, Broker 3), Kafka automatically distributes data among them.

ğŸ§© 3. Topic
*************
â¤ A Topic is a category or stream name where messages are published.
ğŸ‘‰ Example: â€œuser-signupâ€, â€œorder-eventsâ€, or â€œpayment-updatesâ€.

â¤ Topics are split into multiple partitions for scalability.

ğŸ”„ 4. Partition
******************
â¤ A Partition is a unit of parallelism in Kafka.
Each topic is divided into partitions, and each partition is an ordered sequence of messages.

ğŸ‘‰ Example:
Topic: orders

Partition 0 â†’ messages [offset 0, 1, 2...]
Partition 1 â†’ messages [offset 0, 1, 2...]

â¤ More partitions â†’ more parallel processing by consumers.

ğŸ“¦ 5. Offset
***************
â¤ Each message in a partition has a unique offset (like a line number).
ğŸ‘‰ It represents the position of the message in that partition.

â¤ Consumers use offsets to track which messages they have already processed.

ğŸ‘¥ 6. Consumer
****************
â¤ A Consumer is an application that reads messages from Kafka topics.
â¤ Consumers subscribe to one or more topics and process data in real time.

ğŸ‘¥ 7. Consumer Group
**********************
â¤ A Consumer Group is a collection of consumers that work together to consume messages from a topic.
ğŸ‘‰ Each partition is read by only one consumer in a group â†’ ensures parallelism and no duplicate processing.

Example:
If you have 3 partitions and 3 consumers in a group â†’ each consumer reads from one partition.

ğŸ§  8. Zookeeper (Older versions) / Kafka Controller (Newer versions)
*********************************************************************
â¤ In older Kafka versions, Zookeeper manages cluster metadata â€” like broker info, leader election, and topic configuration.
â¤ In newer Kafka versions (v2.8+), Kafkaâ€™s internal controller replaces Zookeeper for simpler management.

ğŸ” Data Flow Summary
**********************
1ï¸âƒ£ Producer sends data â†’ Topic (divided into partitions)
2ï¸âƒ£ Kafka Brokers store the data.
3ï¸âƒ£ Consumers (in a consumer group) read data from those partitions.

ğŸ§­ Example Flow
=================
â¤ OrderService produces â€œorder-createdâ€ event â†’ Topic: orders.
â¤ InventoryService and PaymentService consume from that topic â†’ take real-time action.

###################################################################
ğŸ§© ğŸ”¥ Complete Kafka Setup on Windows (KRaft Mode â€“ No Zookeeper)
###################################################################
âœ… Works perfectly with Kafka 3.8.0+
âœ… No need for Zookeeper
âœ… Recommended by Apache for new users

ğŸª„ Step 1: Install Java (JDK 8 or higher)
*******************************************
â¤ Kafka runs on Java.
â¤ Check Java:

java -version

â¤ If it shows something like java version "17.0.x", youâ€™re good.
â¤ If not:
â¤ Download from Oracle or Adoptium:
ğŸ”— https://adoptium.net/temurin/releases/

Install it
â¤ Set up environment variable:
â¤ Search: â€œEnvironment Variablesâ€ â†’ â€œEdit system environment variablesâ€
â¤ Add new variable:
JAVA_HOME = C:\Program Files\Java\jdk-17
Add %JAVA_HOME%\bin to Path

âœ… Verify:
-----------
echo %JAVA_HOME%
java -version

âš™ï¸ Step 2: Download and Extract Kafka
**************************************
â¤ Go to official Kafka downloads:
ğŸ”— https://kafka.apache.org/downloads

â¤ Download Kafka 3.8.0 (Scala 2.13) â†’
ğŸ‘‰ https://downloads.apache.org/kafka/3.8.0/kafka_2.13-3.8.0.tgz

â¤ Extract the .tgz file twice (first .tgz, then .tar) using 7-Zip or WinRAR.

Move it to:
C:\kafka\kafka_2.13-3.8.0

ğŸ§­ Step 3: Open Command Prompt and Navigate
**********************************************
cd C:\kafka\kafka_2.13-3.8.0

â¤ Now your prompt should look like:
C:\kafka\kafka_2.13-3.8.0>

âš¡ Step 4: Format Kafka Storage (KRaft Mode Init)
***************************************************
â¤ Kafka needs to initialize internal metadata before running.
â¤ Run this command:

.\bin\windows\kafka-storage.bat format -t %RANDOM% --config .\config\kraft\server.properties

ğŸ§  What this does:
===================
â¤ Generates a random cluster ID
â¤ Formats the local logs
â¤ Prepares Kafka to start in KRaft mode

âœ… Youâ€™ll see a message like:
-------------------------------
Formatting was successful.

ğŸš€ Step 5: Start Kafka Broker
*******************************
â¤ Run:
.\bin\windows\kafka-server-start.bat .\config\kraft\server.properties

âœ… If it starts correctly, youâ€™ll see:
INFO [KafkaServer id=1] started (kafka.server.KafkaServer)

ğŸ‰ Kafka is now running locally on localhost:9092
ğŸ‘‰ Keep this window open â€” donâ€™t close it.

ğŸ§ª Step 6: Create a Topic
**************************
â¤ Open a new Command Prompt:
cd C:\kafka\kafka_2.13-3.8.0

â¤ Create a topic named â€œtest-topicâ€:
--------------------------------------
.\bin\windows\kafka-topics.bat --create --topic test-topic --bootstrap-server localhost:9092 --partitions 1 --replication-factor 1

â¤ List topics to confirm:
--------------------------
.\bin\windows\kafka-topics.bat --list --bootstrap-server localhost:9092

ğŸ’¬ Step 7: Start a Producer (Send Messages)
**********************************************
â¤ In another new Command Prompt:

cd C:\kafka\kafka_2.13-3.8.0
.\bin\windows\kafka-console-producer.bat --topic test-topic --bootstrap-server localhost:9092

â¤ Now type any message and press Enter (each line = 1 message).

ğŸ“¥ Step 8: Start a Consumer (Read Messages)
********************************************
â¤ In another new Command Prompt:

cd C:\kafka\kafka_2.13-3.8.0
.\bin\windows\kafka-console-consumer.bat --topic test-topic --bootstrap-server localhost:9092 --from-beginning

â¤ Youâ€™ll see all messages you typed in the producer terminal ğŸ¯

ğŸ§¹ Step 9: Stop Kafka
***********************
â¤ When done:
â¤ Go to the Kafka server terminal
â¤ Press Ctrl + C

âœ… Kafka Setup Summary
***********************
####################################################
| Component    | Status                     | Port |
| ------------ | -------------------------- | ---- |
| Kafka Broker | âœ… Running                | 9092 |
| Zookeeper    | âŒ Not Needed             |      |
| Topic        | âœ… Created (`test-topic`) |      |
| Producer     | âœ… Working                |      |
| Consumer     | âœ… Working                |      |
###################################################